import requests, re, sys, os, time
try:
    from bs4 import BeautifulSoup as bs
except Exception as E:
    print '\x1b[31;1m[Err]: ' + str(E)
    sys.exit()

def getcap(url):
    r = requests.get(url).content
    find = re.findall('<input type="hidden" name="code" value="(.*?)">', r)
    cap = str(find).replace("['", '').replace("']", '')
    return ('').join(cap)


def save(data, file):
    print '\x1b[32;1m[*] Saving Data on %s' % file
    op = open(file, 'w')
    op.write(data)
    op.close()


def check_full(url):
    r = requests.get(url)
    b = bs(r.content, 'html.parser')
    f = b.find('div', {})
    if '100%' in f:
        print '\x1b[31;1m  [-] Server Full'
        sys.exit()


def post(user, url):
    cap = getcap(url)
    data = {}
    r = requests.post(url, data=data)
    b = bs(r.content, 'html.parser')
    f = b.findAll('div', {})
    for a in f:
        data = a.text
        if data == None or data == '':
            print '\x1b[31;1m[*] Username invalid\x1b[0m'
        save(data, 'hasil.txt')

    return


def banner():
    os.system('clear')
    print '\x1b[32;1m\n\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x95\x97\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x95\x97\xe2\x96\x88\xe2\x96\x88\xe2\x95\x97  \xe2\x96\x88\xe2\x96\x88\xe2\x95\x97 \xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x95\x97  \xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x95\x97\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x95\x97 \xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x95\x97 \xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x95\x97   \xe2\x96\x88\xe2\x96\x88\xe2\x95\x97\n\xe2\x96\x88\xe2\x96\x88\xe2\x95\x94\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x9d\xe2\x96\x88\xe2\x96\x88\xe2\x95\x94\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x9d\xe2\x96\x88\xe2\x96\x88\xe2\x95\x91  \xe2\x96\x88\xe2\x96\x88\xe2\x95\x91\xe2\x96\x88\xe2\x96\x88\xe2\x95\x94\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x96\x88\xe2\x96\x88\xe2\x95\x97\xe2\x96\x88\xe2\x96\x88\xe2\x95\x94\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x9d\xe2\x96\x88\xe2\x96\x88\xe2\x95\x94\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x9d\xe2\x96\x88\xe2\x96\x88\xe2\x95\x94\xe2\x95\x90\xe2\x95\x90\xe2\x96\x88\xe2\x96\x88\xe2\x95\x97\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x95\x97  \xe2\x96\x88\xe2\x96\x88\xe2\x95\x91\n\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x95\x97\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x95\x97\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x95\x91\xe2\x96\x88\xe2\x96\x88\xe2\x95\x91   \xe2\x96\x88\xe2\x96\x88\xe2\x95\x91\xe2\x96\x88\xe2\x96\x88\xe2\x95\x91     \xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x95\x97  \xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x95\x91\xe2\x96\x88\xe2\x96\x88\xe2\x95\x94\xe2\x96\x88\xe2\x96\x88\xe2\x95\x97 \xe2\x96\x88\xe2\x96\x88\xe2\x95\x91\n\xe2\x95\x9a\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x96\x88\xe2\x96\x88\xe2\x95\x91\xe2\x95\x9a\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x96\x88\xe2\x96\x88\xe2\x95\x91\xe2\x96\x88\xe2\x96\x88\xe2\x95\x94\xe2\x95\x90\xe2\x95\x90\xe2\x96\x88\xe2\x96\x88\xe2\x95\x91\xe2\x96\x88\xe2\x96\x88\xe2\x95\x91   \xe2\x96\x88\xe2\x96\x88\xe2\x95\x91\xe2\x96\x88\xe2\x96\x88\xe2\x95\x91     \xe2\x96\x88\xe2\x96\x88\xe2\x95\x94\xe2\x95\x90\xe2\x95\x90\xe2\x95\x9d  \xe2\x96\x88\xe2\x96\x88\xe2\x95\x94\xe2\x95\x90\xe2\x95\x90\xe2\x96\x88\xe2\x96\x88\xe2\x95\x91\xe2\x96\x88\xe2\x96\x88\xe2\x95\x91\xe2\x95\x9a\xe2\x96\x88\xe2\x96\x88\xe2\x95\x97\xe2\x96\x88\xe2\x96\x88\xe2\x95\x91\n\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x95\x91\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x95\x91\xe2\x96\x88\xe2\x96\x88\xe2\x95\x91  \xe2\x96\x88\xe2\x96\x88\xe2\x95\x91\xe2\x95\x9a\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x95\x94\xe2\x95\x9d\xe2\x95\x9a\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x95\x97\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x95\x97\xe2\x96\x88\xe2\x96\x88\xe2\x95\x91  \xe2\x96\x88\xe2\x96\x88\xe2\x95\x91\xe2\x96\x88\xe2\x96\x88\xe2\x95\x91 \xe2\x95\x9a\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x96\x88\xe2\x95\x91\n\xe2\x95\x9a\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x9d\xe2\x95\x9a\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x9d\xe2\x95\x9a\xe2\x95\x90\xe2\x95\x9d  \xe2\x95\x9a\xe2\x95\x90\xe2\x95\x9d \xe2\x95\x9a\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x9d  \xe2\x95\x9a\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x9d\xe2\x95\x9a\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x9d\xe2\x95\x9a\xe2\x95\x90\xe2\x95\x9d  \xe2\x95\x9a\xe2\x95\x90\xe2\x95\x9d\xe2\x95\x9a\xe2\x95\x90\xe2\x95\x9d  \xe2\x95\x9a\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x9d\x1b[31;1m\n   Author: Billal Fauzan     Form: SSH Ocean and Rusmana-ID\n       Version: 0.1              Thanks To: My Friends'


def squid():
    url = 'https://sshocean.com/socks-proxy-list'
    r = requests.get(url)
    b = bs(r.content, 'html.parser')
    f = b.findAll('div', {})
    for a in f:
        data = a.text
        save(data, 'squid.txt')


class sgdo:

    def __init__(self):
        self.main_menu()

    def main_menu(self):
        banner()
        print '\x1b[33;1m    [\x1b[32;1m1\x1b[33;1m] \x1b[34;1m-> \x1b[32;1mSERVER SG1'
        print '\x1b[33;1m    [\x1b[32;1m2\x1b[33;1m] \x1b[34;1m-> \x1b[32;1mSERVER SG2'
        print '\x1b[33;1m    [\x1b[32;1m3\x1b[33;1m] \x1b[34;1m-> \x1b[32;1mSERVER SG3'
        print '\x1b[33;1m    [\x1b[32;1m4\x1b[33;1m] \x1b[34;1m-> \x1b[32;1mSERVER SG4'
        print '\x1b[33;1m    [\x1b[32;1m5\x1b[33;1m] \x1b[34;1m-> \x1b[32;1mSERVER SG5'
        print '\x1b[33;1m    [\x1b[32;1m6\x1b[33;1m] \x1b[34;1m-> \x1b[32;1mSQUID SSHOCEAN'
        self.pilih()

    def pilih(self):
        user = ''
        p = raw_input('\x1b[33;1m  {\x1b[31;1m?\x1b[33;1m} CHOICE > \x1b[32;1m')
        if p in ('6', '06'):
            pass
        else:
            user = raw_input('\x1b[33;1m  {\x1b[31;1m?\x1b[33;1m} Username: \x1b[32;1m')
        if p in ('1', '01'):
            check_full('https://sshocean.com/create-account-server-sg7-1/singapore')
            post(user, 'https://sshocean.com/create-account-server-sg7-1/singapore')
        elif p in ('2', '02'):
            check_full('https://sshocean.com/create-account-server-sg7-2/singapore')
            post(user, 'https://sshocean.com/create-account-server-sg7-2/singapore')
        elif p in ('3', '03'):
            check_full('https://sshocean.com/create-account-server-sg7-3/singapore')
            post(user, 'https://sshocean.com/create-account-server-sg7-3/singapore')
        elif p in ('4', '04'):
            check_full('https://sshocean.com/create-account-server-sg7-4/singapore')
            post(user, 'https://sshocean.com/create-account-server-sg7-4/singapore')
        elif p in ('5', '05'):
            check_full('https://sshocean.com/create-account-server-sg7-5/singapore')
            post(user, 'https://sshocean.com/create-account-server-sg7-5/singapore')
        elif p in ('6', '06'):
            squid()


def slowprint(text):
    for a in text + '\n':
        sys.stdout.write(a)
        sys.stdout.flush()
        time.sleep(0.01)


def main():
    banner()
    slowprint("\x1b[31;1m\n                  [+] PERINGATAN [+]\x1b[32;1m\n[*] Kelebihan\n    1.Bisa Auto Create SSH\n    2.Squid SSH\n\x1b[31;1m\n[-] Kekurangan\n    1.Hasil Create Tidak Bisa Di Tempilkan Namun Di Simpan\n    2.Masih Tahap Pengembangan\n\x1b[33;1m\n[#] Dilarang Berlebihan Pakai Tool Ini Supaya Tidak Kena Limit\n\x1b[32;1m\n[*] Support\n   1.SSH OCEAN (Server)\n   2.Rusmana ID\n   3.All My Friends\n\x1b[37;1m\n[*] Jangan Lupa Subscribe Channel 'WOLL CYBER TEAM'\n\x1b[34;1m\n              TERIMA KASIH ^_^ Sudah Membaca\x1b[0m")
    banner()
    sgdo()


main()
